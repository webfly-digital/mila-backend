<? namespace Ctweb\SMSAuth;$GLOBALS['____301626195']= array(base64_decode('ZGVma'.'W5l'),base64_decode('c3RycmV'.'2'),base64_decode('c3Ry'.'dG'.'9'.'1'.'cHBlcg'.'=='),base64_decode('c3ByaW50Z'.'g=='),base64_decode(''.'c3ByaW50Z'.'g=='),base64_decode('c3Vi'.'c3Ry'),base64_decode('c3'.'Ryc'.'m'.'V2'),base64_decode('Y'.'m'.'FzZTY0X2'.'RlY'.'29kZQ=='),base64_decode('c3Vic3'.'Ry'),base64_decode('c3RybGVu'),base64_decode(''.'c3RybGVu'),base64_decode(''.'Y2h'.'y'),base64_decode('b3J'.'k'),base64_decode('b3Jk'),base64_decode(''.'bWt0aW'.'1l'),base64_decode('a'.'W50'.'dmFs'),base64_decode(''.'aW5'.'0dm'.'F'.'s'),base64_decode('aW'.'5'.'0'.'d'.'mFs'),base64_decode('a3NvcnQ='),base64_decode(''.'c3Vi'.'c3Ry'),base64_decode('a'.'W1wbG9'.'kZQ'.'=='),base64_decode(''.'ZGV'.'maW5l'.'ZA=='),base64_decode('YmF'.'zZTY0X2RlY'.'29kZ'.'Q=='),base64_decode('Y29uc3Rh'.'bnQ='),base64_decode('c3RycmV2'),base64_decode('c3B'.'yaW50Zg=='),base64_decode('c3RybGVu'),base64_decode('c'.'3RybGV'.'u'),base64_decode('Y2h'.'y'),base64_decode('b3Jk'),base64_decode('b3Jk'),base64_decode('bW'.'t0a'.'W1'.'l'),base64_decode(''.'a'.'W50dmF'.'s'),base64_decode('aW50dm'.'F'.'s'),base64_decode('aW'.'50dmF'.'s'),base64_decode('c3'.'Vic'.'3Ry'),base64_decode('c'.'3Vic3'.'R'.'y'),base64_decode('dGltZ'.'Q=='),base64_decode(''.'bW'.'t0'.'aW1'.'l'),base64_decode('bWt0aW1l'),base64_decode('ZGF0'.'ZQ=='),base64_decode(''.'ZGF0Z'.'Q=='),base64_decode('ZGVma'.'W5l'),base64_decode(''.'Z'.'GVmaW'.'5'.'l'),base64_decode('ZmlsZV9leGl'.'zdHM'.'='),base64_decode(''.'Zm'.'ls'.'ZV9leGl'.'zd'.'HM='),base64_decode('ZmlsZ'.'V9le'.'Glz'.'dHM='),base64_decode('aXNfZGly'),base64_decode('ZGlybmFtZQ=='),base64_decode(''.'bWt'.'kaXI='),base64_decode('ZG'.'lybmFtZQ'.'=='),base64_decode(''.'dG91Y2g='),base64_decode('Zml'.'sZ'.'Q=='),base64_decode('Z'.'XhwbG'.'9kZQ=='),base64_decode('aW50dmFs'),base64_decode('aW5fYXJyYXk='),base64_decode('aW'.'5fYX'.'JyYX'.'k'.'='),base64_decode('ZmlsZV'.'9wdXRfY29udGVu'.'dHM='),base64_decode('c3Bya'.'W'.'50Zg'.'=='),base64_decode('ZG'.'F0ZQ=='),base64_decode('c3Ryd'.'H'.'I='),base64_decode('ZmlsZV9le'.'GlzdHM='),base64_decode(''.'dW5sa'.'W5r'),base64_decode('YXJyY'.'X'.'lfbWV'.'yZ2U'.'='),base64_decode('a'.'XNfc'.'3'.'RyaW5'.'n'),base64_decode(''.'anNvbl9kZWN'.'vZGU'.'='),base64_decode('anNvbl9'.'sYXN0X'.'2Vycm9'.'y'),base64_decode(''.'a'.'XN'.'fYXJyYX'.'k='),base64_decode(''.'a2V5'),base64_decode('a2V5'),base64_decode('a2'.'V5'),base64_decode('c3RybG'.'Vu'),base64_decode('ZmlsZV9leGl'.'zdHM='),base64_decode('Y2xhc3NfZXhpc'.'3R'.'z'),base64_decode('a'.'X'.'Nf'.'YXJyYXk'.'='),base64_decode(''.'anNvbl'.'9lbmN'.'vZGU'.'='),base64_decode('Z'.'mlsZV9'.'leG'.'l'.'zdHM='),base64_decode('cm'.'VuYW1'.'l'),base64_decode('bWtkaXI='),base64_decode('Y29weQ'.'=='),base64_decode(''.'ZGVmaW5lZA'.'=='),base64_decode(''.'c3'.'RybG'.'Vu'));if(!function_exists(__NAMESPACE__.'\\___869773462')){function ___869773462($_339468869){static $_1078357423= false; if($_1078357423 == false) $_1078357423=array('ZX'.'hw'.'aXJlX2'.'1lc3NfY3VzdG9'.'tM'.'g==','Y'.'3R3ZWJfc'.'21zYXV0aF'.'8=','b21lZA==','WQ==','ZHJtX3N0'.'ZXJn'.'b'.'2t'.'j','JTAxM'.'HMK','ZW'.'Jfc21z','Y3R'.'3ZWIuc2'.'1zYX'.'V0aA==','JXMl'.'cw==',''.'fmJ'.'z','ZXRhZF9'.'wbw==','YW'.'R'.'ta'.'W4=','b'.'W9'.'kdWxlcw='.'=','dX'.'N'.'lcl9kYXRlX2'.'JzbS'.'5'.'w'.'aHA=','Y3R'.'3ZWIuc2'.'1zYXV'.'0aA==','Y'.'ml0'.'cml4','Ukhl'.'Yl'.'9zbXM=','N'.'jBhY'.'TFmOGMwNTF'.'oeXRv'.'cw'.'==','',''.'NDJh','ZTZlZ'.'T'.'c'.'0YWI'.'5'.'ODA5Z'.'mE0ZjEx','ZjU5'.'Y'.'mU1Mg==','aHR'.'0cHM6Ly9i'.'aXRyaXhzb2Z'.'0LmN'.'vbS9ia'.'X'.'RyaXgvYnMucGh'.'w',''.'Y'.'3R3','Y'.'X'.'V0'.'aF9'.'P'.'TERT'.'SVRFRVhQSVJF'.'REF'.'UR'.'VM=','RE9DVU1FTl'.'RfUk9PVA==','Lw'.'==','Lw'.'==',''.'Y'.'3R3Z'.'WJfc21zY'.'XV0'.'aF9URU1QT1JB'.'U'.'l'.'lf'.'Q0FD'.'SEU=','Y3R3ZWJfc2'.'1'.'zY'.'XV'.'0aF'.'9URU1QT1JBUllfQ0'.'FD'.'S'.'EU=','','Z'.'m'.'JmYjY=','JXMlcw==','NjhhZDRhMjk2YTg5MGR'.'lNzA4Njg=','Y3R3','YXV0aF9TSVRFRV'.'hQS'.'V'.'JFREF'.'UR'.'U1BUE'.'VS','bQ==','ZA==','WQ='.'=',''.'U2l0ZU'.'V'.'4cGlyZ'.'URhd'.'GVfY3R'.'3Z'.'WJfc21zYXV'.'0'.'aA==','Y3R3ZWI'.'uc21zYXV0a'.'A'.'==',''.'XEN0d2ViXFNN'.'U'.'0'.'F1d'.'Gh'.'cTWF'.'uY'.'W'.'dlcg'.'='.'=','bG'.'li'.'L21hbm'.'FnZ'.'XIucGhw','XEN0d2ViXFNNU0F'.'1'.'dGhc'.'UHJvdm'.'lkZXJCY'.'X'.'Nl','b'.'GliL3Byb3Z'.'pZ'.'GVyLmJhc2UucGh'.'w','XE'.'N0d2ViXFNN'.'U'.'0F1dGhcQ0Fk'.'bWl'.'uRm9'.'ybQ==','bGliL2NhZG1'.'pbmZv'.'c'.'m'.'0'.'uc'.'Ghw','L3Zl'.'bmR'.'vc'.'i9'.'hd'.'XRvbG9h'.'ZC5waHA=','UEhPTkVfTlVNQk'.'V'.'S','Q'.'1dfUkVHX0ZJRUxEX1B'.'I'.'T'.'0'.'5FX05V'.'TUJ'.'FUg==','UE'.'VSU09'.'OQUxfUE'.'hPTkU'.'=','RklF'.'TERfU'.'E'.'VSU0'.'9OQUxf'.'UEhP'.'TkU=','UEVSU09O'.'QUxfRkF'.'Y',''.'RklFTE'.'RfUEV'.'SU09O'.'QUxf'.'R'.'kF'.'Y',''.'UEV'.'SU09OQUxfTU9CS'.'UxF','RklFT'.'ER'.'f'.'UE'.'V'.'SU'.'09'.'O'.'QUxfT'.'U9CSUxF','UEVS'.'U09OQUxfUEFHR'.'VI'.'=',''.'Rk'.'l'.'FTERfUEVSU'.'09OQUxfUE'.'F'.'HRVI=','V0'.'9SS19QSE9ORQ'.'==','Rk'.'lFTERfV09SS'.'19QSE'.'9'.'ORQ'.'==','V09SS19'.'GQVg=',''.'R'.'klFTE'.'RfV09SS19GQVg=','V09S'.'S'.'19'.'QQU'.'d'.'FUg'.'==','RklFTERfV09S'.'S19QQUdFUg'.'==','T25'.'HZXRQaG9uZUZp'.'ZWxkTG'.'l'.'zdA'.'==','c29yd'.'A'.'==',''.'YXNj',''.'T'.'ElE',''.'L2'.'xvY2FsL3'.'RlbX'.'BsYXRlcy8=','VEVN'.'UExBVEU=',''.'RE9DVU1FTlRf'.'Uk9P'.'VA'.'==',''.'RE9DVU1FTlRf'.'U'.'k'.'9'.'PVA='.'=','RE9DVU1'.'FTl'.'RfUk9PV'.'A'.'==','L'.'2xvY2F'.'s'.'L3RlbXBsYXRlcy8uZGVmYXVsdA==',''.'RE9DVU1FT'.'l'.'RfUk9P'.'VA==','L2xvY2Fs'.'L3Rl'.'bXBsYXRl'.'cy8uZG'.'V'.'mYX'.'Vsd'.'A==','L2xvY2FsL3R'.'lbX'.'B'.'sYXRlcy8'.'uZGVm'.'YXVsd'.'A==',''.'L2'.'JpdHJ'.'peC90'.'ZW1wb'.'GF0ZXM'.'v','VEVNUExBV'.'EU'.'=','RE9DVU1FTlRf'.'Uk'.'9'.'PVA==','RE9D'.'VU1FTl'.'RfUk'.'9PVA==','RE9DVU1FT'.'lRfUk'.'9PVA==','L2JpdHJpeC90ZW1wb'.'GF0ZX'.'MvLm'.'RlZm'.'F1bH'.'Q'.'=','L2Jpd'.'H'.'JpeC'.'90ZW1wbGF0'.'Z'.'XMv'.'LmRlZmF1'.'bHQ'.'=','IHwg','V'.'El'.'NRVNUQU1Q','VF'.'lQRQ==','V'.'EVYVA'.'==','RVJST'.'1I'.'=',''.'TUVT'.'U0FHR'.'Q==','JXM'.'gf'.'CA'.'l'.'cyB8ICVzC'.'g'.'==','ZC5'.'tLlkgSDppO'.'nM'.'=','Cg='.'=','XG'.'4=','DQ==','X'.'HI=','bW'.'Fpbg==','bmV'.'3'.'X3'.'VzZXJfZW'.'1haWx'.'fcmVxdWlyZWQ=','WQ==','Tg='.'=','RU1Q'.'VFk=','U1'.'dTQV9O'.'RVd'.'fR'.'U'.'1B'.'S'.'Uxf'.'QVNfRU1QVFk=','T25HZXRQcm92aWRlckx'.'pc3Q=','UEFUSA==','UEFU'.'S'.'A==',''.'Q0xBU1'.'M=','Q0xBU1M=','RVJST1J'.'fQ0xBU1'.'NfTk9UX0'.'ZPVU'.'5E','I0NM'.'QVNTIw==','Q0'.'xBU1M=','RV'.'J'.'ST1JfUE'.'F'.'US'.'F9OT1RfR'.'k9VT'.'kQ=','I'.'1B'.'BVEgj','U'.'GF'.'0a'.'A'.'='.'=','UEhP'.'T'.'kVfRkl'.'F'.'TEQ'.'=',''.'T'.'k9fU'.'EhP'.'TkV'.'fR'.'VJ'.'ST1JT','UFJ'.'PVklER'.'VI=','T25HZ'.'XR'.'Vc2'.'VyUmVnaXN0Z'.'XJGa'.'WVsZHM=','dGVt'.'cGx'.'h'.'dGUuc'.'Gh'.'w','VFBMX'.'1'.'NJ'.'VE'.'U=',''.'UkVOQU1'.'F',''.'VFB'.'MX1NJV'.'EU'.'=','dG'.'VtcGxh'.'dGUucGhw'.'L'.'mN0d2ViYXV0aC'.'5iYWs=',''.'TUtESVI=','VFBM'.'X1'.'NJVEU=','RE9DVU'.'1FT'.'lRf'.'U'.'k9'.'PVA==','L2Jpd'.'HJ'.'peC9tb'.'2R1bGVz'.'L2N0d2'.'V'.'i'.'LnNt'.'c'.'2F1dG'.'gv'.'aW5zdG'.'FsbC'.'9ze'.'XN0ZW'.'0uYXV0aC9'.'0'.'ZW'.'1'.'wbGF0ZS5waHA=','T1BUS'.'U'.'9O'.'X1NFVA==','Uk'.'VXUklU'.'RV9TWVN'.'UR'.'U1fQVV'.'USF9QQVRI','T1B'.'USU9'.'OX'.'1NFVA==','U'.'kVXU'.'klU'.'RV'.'9'.'TWVNU'.'RU1'.'f'.'QVVUS'.'F'.'9QQVRI','Y'.'3R3Z'.'WJfc21'.'zYX'.'V0aF9'.'P'.'TE'.'RT'.'SVRFRVhQSVJFREFUR'.'Q==',''.'ZXhwaXJlX21lc3Nf'.'Y'.'3Vzd'.'G9tMg==');return base64_decode($_1078357423[$_339468869]);}};$_135543366= GetMessage(___869773462(0));$_1116499388= min(138,0,46);@$GLOBALS['____301626195'][0](___869773462(1).$GLOBALS['____301626195'][1]($GLOBALS['____301626195'][2](___869773462(2))), ___869773462(3));$_760042494= round(0+0.25+0.25+0.25+0.25); $_1260769929= ___869773462(4); unset($_396987172); $_2114963918= $GLOBALS['____301626195'][3](___869773462(5), ___869773462(6)); $_396987172= \COption::GetOptionString(___869773462(7), $GLOBALS['____301626195'][4](___869773462(8),___869773462(9),$GLOBALS['____301626195'][5]($_1260769929, round(0+2), round(0+1.3333333333333+1.3333333333333+1.3333333333333))).$GLOBALS['____301626195'][6](___869773462(10))); $_1970542924= array(round(0+8.5+8.5) => ___869773462(11), round(0+1.75+1.75+1.75+1.75) => ___869773462(12), round(0+5.5+5.5+5.5+5.5) => ___869773462(13), round(0+3+3+3+3) => ___869773462(14), round(0+0.6+0.6+0.6+0.6+0.6) => ___869773462(15)); $_1822370444= ___869773462(16); while($_396987172){ $_695022962= ___869773462(17); $_1348855042= $GLOBALS['____301626195'][7]($_396987172); $_1666584163= ___869773462(18); $_695022962= $GLOBALS['____301626195'][8](___869773462(19).$_695022962,(177*2-354),-round(0+1.6666666666667+1.6666666666667+1.6666666666667)).___869773462(20); $_1401417495= $GLOBALS['____301626195'][9]($_695022962); $_556106228=(180*2-360); for($_610190649=(1084/2-542); $_610190649<$GLOBALS['____301626195'][10]($_1348855042); $_610190649++){ $_1666584163 .= $GLOBALS['____301626195'][11]($GLOBALS['____301626195'][12]($_1348855042[$_610190649])^ $GLOBALS['____301626195'][13]($_695022962[$_556106228])); if($_556106228==$_1401417495-round(0+0.33333333333333+0.33333333333333+0.33333333333333)) $_556106228=(1288/2-644); else $_556106228= $_556106228+ round(0+0.5+0.5);} $_760042494= $GLOBALS['____301626195'][14]((1136/2-568), min(86,0,28.666666666667),(812-2*406), $GLOBALS['____301626195'][15]($_1666584163[round(0+2+2+2)].$_1666584163[round(0+1+1+1)]), $GLOBALS['____301626195'][16]($_1666584163[round(0+0.5+0.5)].$_1666584163[round(0+3.5+3.5+3.5+3.5)]), $GLOBALS['____301626195'][17]($_1666584163[round(0+10)].$_1666584163[round(0+9+9)].$_1666584163[round(0+1.4+1.4+1.4+1.4+1.4)].$_1666584163[round(0+4+4+4)])); unset($_695022962); break;} $_533876127= ___869773462(21); $GLOBALS['____301626195'][18]($_1970542924); $_2001095640= ___869773462(22); $_1822370444= ___869773462(23).$GLOBALS['____301626195'][19]($_1822370444.___869773462(24), round(0+1+1),-round(0+0.33333333333333+0.33333333333333+0.33333333333333));@include($_SERVER[___869773462(25)].___869773462(26).$GLOBALS['____301626195'][20](___869773462(27), $_1970542924)); $_1915655954= round(0+0.5+0.5+0.5+0.5); while($GLOBALS['____301626195'][21](___869773462(28))){ $_766712223= $GLOBALS['____301626195'][22]($GLOBALS['____301626195'][23](___869773462(29))); $_752197906= ___869773462(30); $_533876127= $GLOBALS['____301626195'][24](___869773462(31)).$GLOBALS['____301626195'][25](___869773462(32),$_533876127,___869773462(33)); $_1385015626= $GLOBALS['____301626195'][26]($_533876127); $_556106228=(762-2*381); for($_610190649=(189*2-378); $_610190649<$GLOBALS['____301626195'][27]($_766712223); $_610190649++){ $_752197906 .= $GLOBALS['____301626195'][28]($GLOBALS['____301626195'][29]($_766712223[$_610190649])^ $GLOBALS['____301626195'][30]($_533876127[$_556106228])); if($_556106228==$_1385015626-round(0+0.5+0.5)) $_556106228=(232*2-464); else $_556106228= $_556106228+ round(0+0.33333333333333+0.33333333333333+0.33333333333333);} $_1915655954= $GLOBALS['____301626195'][31]((932-2*466), min(224,0,74.666666666667),(1248/2-624), $GLOBALS['____301626195'][32]($_752197906[round(0+1.2+1.2+1.2+1.2+1.2)].$_752197906[round(0+4+4+4+4)]), $GLOBALS['____301626195'][33]($_752197906[round(0+1.8+1.8+1.8+1.8+1.8)].$_752197906[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]), $GLOBALS['____301626195'][34]($_752197906[round(0+12)].$_752197906[round(0+2.3333333333333+2.3333333333333+2.3333333333333)].$_752197906[round(0+2.8+2.8+2.8+2.8+2.8)].$_752197906[round(0+0.75+0.75+0.75+0.75)])); unset($_533876127); break;} $_2114963918= ___869773462(34).$GLOBALS['____301626195'][35]($GLOBALS['____301626195'][36]($_2114963918, round(0+1.5+1.5),-round(0+1)).___869773462(35), round(0+0.5+0.5),-round(0+5));for($_610190649= min(104,0,34.666666666667),$_1912866255=($GLOBALS['____301626195'][37]()< $GLOBALS['____301626195'][38]((1216/2-608),(862-2*431),(157*2-314),round(0+1.6666666666667+1.6666666666667+1.6666666666667),round(0+0.25+0.25+0.25+0.25),round(0+670+670+670)) || $_760042494 <= round(0+3.3333333333333+3.3333333333333+3.3333333333333)),$_664605901=($_760042494< $GLOBALS['____301626195'][39]((1460/2-730),min(206,0,68.666666666667),min(20,0,6.6666666666667),Date(___869773462(36)),$GLOBALS['____301626195'][40](___869773462(37))-$_1116499388,$GLOBALS['____301626195'][41](___869773462(38)))); $_610190649< round(0+5+5),$_1912866255 || $_664605901 || $_760042494 != $_1915655954; $_610190649++)return false;$GLOBALS['____301626195'][42]($_1822370444, $_760042494); $GLOBALS['____301626195'][43]($_2114963918, $_1915655954); $GLOBALS[___869773462(39)]= ctweb_smsauth_OLDSITEEXPIREDATE; use Bitrix\Main\Config\Option; use Bitrix\Main\Localization\Loc; use Bitrix\Main\ModuleManager; Loc::loadMessages(__FILE__); \CModule::AddAutoloadClasses( ___869773462(40), array( ___869773462(41) => ___869773462(42), ___869773462(43) => ___869773462(44), ___869773462(45) => ___869773462(46),)); require_once(__DIR__. ___869773462(47)); class Module{ const MODULE_ID= 'ctweb.smsauth'; const LOG_TYPE_NONE= 0; const LOG_TYPE_MESSAGES= 1; const LOG_TYPE_ERRORS= 2; const LOG_TYPE_ALL= 3; const LOG_FILE= __DIR__. '/logs/module.log'; static function isActive(){ return Option::get(self::MODULE_ID, 'ACTIVE', 0);} static public function getLogOptions(){ return array( self::LOG_TYPE_NONE => Loc::getMessage('LOG_TYPE_NONE'), self::LOG_TYPE_MESSAGES => Loc::getMessage('LOG_TYPE_MESSAGES'), self::LOG_TYPE_ERRORS => Loc::getMessage('LOG_TYPE_ERRORS'), self::LOG_TYPE_ALL => Loc::getMessage('LOG_TYPE_ALL'),);}  public static function CoreHasOwnPhoneAuth(){ return (bool) CheckVersion(ModuleManager::getVersion('main'), '18.5.0');}  static public function getPhoneFieldList(){ $_782030582= array(); if(self::CoreHasOwnPhoneAuth()){ $_782030582[___869773462(48)]= Loc::getMessage(___869773462(49));} $_782030582[___869773462(50)]= Loc::GetMessage(___869773462(51)); $_782030582[___869773462(52)]= Loc::GetMessage(___869773462(53)); $_782030582[___869773462(54)]= Loc::GetMessage(___869773462(55)); $_782030582[___869773462(56)]= Loc::GetMessage(___869773462(57)); $_782030582[___869773462(58)]= Loc::GetMessage(___869773462(59)); $_782030582[___869773462(60)]= Loc::GetMessage(___869773462(61)); $_782030582[___869773462(62)]= Loc::GetMessage(___869773462(63)); $_1077800563= new \Bitrix\Main\Event(self::MODULE_ID, ___869773462(64), array(&$_782030582)); $_1077800563->send(); return $_782030582;}  static public function getSiteTemplates(){ $_782030582= array();  $_254155579= \CSite::GetList($_531858444=___869773462(65), $_481199688=___869773462(66), Array()); while($_408356448= $_254155579->Fetch()){ $_722299751= \CSite::GetTemplateList($_408356448[___869773462(67)]); while($_1863244976= $_722299751->Fetch()){  $_763775167= ___869773462(68).$_1863244976[___869773462(69)]; if($GLOBALS['____301626195'][44]($_SERVER[___869773462(70)].$_763775167)){ $_782030582[$_SERVER[___869773462(71)].$_763775167]= $_763775167;} if(!$_782030582[$_SERVER[___869773462(72)].___869773462(73)]) $_782030582[$_SERVER[___869773462(74)].___869773462(75)]= ___869773462(76); $_184085023= ___869773462(77).$_1863244976[___869773462(78)]; if($GLOBALS['____301626195'][45]($_SERVER[___869773462(79)].$_184085023)){ $_782030582[$_SERVER[___869773462(80)].$_184085023]= $_184085023;}}}  $_782030582[$_SERVER[___869773462(81)].___869773462(82)]= ___869773462(83); return $_782030582;}  static public function getLogs(){ if(!$GLOBALS['____301626195'][46](self::LOG_FILE)){ if(!$GLOBALS['____301626195'][47]($GLOBALS['____301626195'][48](self::LOG_FILE))){ $GLOBALS['____301626195'][49]($GLOBALS['____301626195'][50](self::LOG_FILE), 0755, true);} $GLOBALS['____301626195'][51](self::LOG_FILE);} $_782030582= $GLOBALS['____301626195'][52](self::LOG_FILE); return \array_map(function($_1498488322){ list($type, $_403531381, $_1658983430)= $GLOBALS['____301626195'][53](___869773462(84), $_1498488322, round(0+1+1+1)); return[ ___869773462(85) => $_403531381, ___869773462(86) => $type, ___869773462(87) => $_1658983430,];}, $_782030582);} static public function addLog($_354373339, $type= 'MESSAGE'){ $_1515267769= $GLOBALS['____301626195'][54](Option::get(self::MODULE_ID, 'LOG_MESSAGES', self::LOG_TYPE_NONE)); if($type === ___869773462(88) && $GLOBALS['____301626195'][55]($_1515267769, array(self::LOG_TYPE_ERRORS, self::LOG_TYPE_ALL)) || $type === ___869773462(89) && $GLOBALS['____301626195'][56]($_1515267769, array(self::LOG_TYPE_MESSAGES, self::LOG_TYPE_ALL))){ $GLOBALS['____301626195'][57](self::LOG_FILE, $GLOBALS['____301626195'][58]( ___869773462(90), $type, $GLOBALS['____301626195'][59](___869773462(91)), $GLOBALS['____301626195'][60]($_354373339,[ ___869773462(92) => ___869773462(93), ___869773462(94) => ___869773462(95),])),FILE_APPEND);}} static public function clearLog(){ if(!$GLOBALS['____301626195'][61](self::LOG_FILE)) return; $GLOBALS['____301626195'][62](self::LOG_FILE);}  static public function getOptions(){ $_2089619032= Option::getForModule(self::MODULE_ID); $_583132721= $GLOBALS['____301626195'][63](self::getDefaultOptions(), $_2089619032); foreach($_583132721 as $_1968261756 => $_958371617){ if($GLOBALS['____301626195'][64]($_958371617)){ $_958371617= $GLOBALS['____301626195'][65]($_958371617, true); if($GLOBALS['____301626195'][66]() === JSON_ERROR_NONE && $GLOBALS['____301626195'][67]($_958371617)){ $_583132721[$_1968261756]= $_958371617;}}} return $_583132721;}  static public function getDefaultOptions(){ return array( 'ACTIVE' => 0, 'LOG_MESSAGES' => 2, 'DEBUG' => 0, 'PHONE_FIELD' => $GLOBALS['____301626195'][68](self::getPhoneFieldList()), 'CODE_LENGTH' => 5, 'ALPHABET' => '', 'MIN_PHONE_LENGTH' => 5, 'NEW_LOGIN_AS' => 'timestamp', 'NEW_EMAIL_AS' => 'timestamp', 'TIME_EXPIRE' => 180, 'PROVIDER' => $GLOBALS['____301626195'][69](self::getProviderList()), 'TRANSLIT' => 0, 'ALLOW_REGISTER_AUTH' => 0, 'REGISTER_FIELDS' => array($GLOBALS['____301626195'][70](self::getPhoneFieldList())), 'TEXT_MESSAGE' => Loc::getMessage("CWSA_SMS_DEFAULT_MESSAGE_TEXT"), 'NO_PHONE_ERRORS' => 0, 'CWSA_PHONE_MASK' => "+9 (999) 999 99 99",);}  static public function getNewLoginAsList(){ return array( 'TIMESTAMP' => Loc::getMessage("SWSA_NEW_LOGIN_AS_TIMESTAMP"), 'EMAIL' => Loc::getMessage("SWSA_NEW_LOGIN_AS_EMAIL"), 'PHONE' => Loc::getMessage("SWSA_NEW_LOGIN_AS_PHONE"),);}  static public function getNewEmailAsList(){ $_1163073772= array( 'TIMESTAMP' => Loc::getMessage("SWSA_NEW_EMAIL_AS_TIMESTAMP"), 'PHONE' => Loc::getMessage("SWSA_NEW_EMAIL_AS_PHONE"),); if((Option::get(___869773462(96), ___869773462(97), ___869773462(98)) == ___869773462(99))) $_1163073772[___869773462(100)]= Loc::getMessage(___869773462(101)); return $_1163073772;}  static public function getProviderList(){ $_583132721= array( 'BSGWORLD' => array('NAME' => 'bsg.world', 'PATH' => __DIR__. '/lib/providers/bsgworld.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderBSGWORLD'), 'BYTEHANDCOM' => array('NAME' => 'bytehand.com', 'PATH' => __DIR__. '/lib/providers/bytehandcom.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderBYTEHANDCOM'), 'INFOSMSKARU' => array('NAME' => 'infosmska.ru', 'PATH' => __DIR__. '/lib/providers/infosmskaru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderINFOSMSKARU'), 'IQSMSRU' => array('NAME' => 'iqsms.ru', 'PATH' => __DIR__. '/lib/providers/iqsmsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderIQSMSRU'), 'KAZINFOTEH' => array('NAME' => 'kazinfoteh.kz', 'PATH' => __DIR__. '/lib/providers/kazinfoteh.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderKAZINFOTEH'), 'MAINSMSRU' => array('NAME' => 'mainsms.ru', 'PATH' => __DIR__. '/lib/providers/mainsmsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderMAINSMSRU'), 'NEWTEL' => array('NAME' => 'new-tel.net', 'PATH' => __DIR__. '/lib/providers/newtel.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderNEWTEL'), 'P1SMSRU' => array('NAME' => 'p1sms.ru', 'PATH' => __DIR__. '/lib/providers/p1smsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderP1SMSRU'), 'PROSTORSMSRU' => array('NAME' => 'prostorsms.ru', 'PATH' => __DIR__. '/lib/providers/prostorsmsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderPROSTORSMSRU'), 'REDSMSRU' => array('NAME' => 'redsms.ru', 'PATH' => __dir__. '/lib/providers/redsmsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderREDSMSRU'), 'SMSAERORU' => array('NAME' => 'smsaero.ru', 'PATH' => __DIR__. '/lib/providers/smsaeroru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSAERORU'), 'SMSCKZ' => array('NAME' => 'smsc.kz', 'PATH' => __DIR__. '/lib/providers/smsckz.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSCKZ'), 'SMSCLUBMOBI' => array('NAME' => 'smsclub.mobi', 'PATH' => __DIR__. '/lib/providers/smsclubmobi.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSCLUBMOBI'), 'SMSCRU' => array('NAME' => 'smsc.ru', 'PATH' => __DIR__. '/lib/providers/smscru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSCRU'), 'SMSRU' => array('NAME' => 'sms.ru', 'PATH' => __DIR__. '/lib/providers/smsru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSRU'), 'SMSUSLUGIRU' => array('NAME' => 'sms-uslugi.ru', 'PATH' => __DIR__. '/lib/providers/smsuslugiru.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderSMSUSLUGIRU'), 'TURBOSMSUA' => array('NAME' => 'turbosms.ua', 'PATH' => __DIR__. '/lib/providers/turbosmsua.php', 'CLASS' => '\Ctweb\SMSAuth\ProviderTURBOSMSUA'),); $_1077800563= new \Bitrix\Main\Event(self::MODULE_ID, ___869773462(102), array(&$_583132721)); $_1077800563->send(); return $_583132721;} static public function getProvider($_2087424523= null){ if($GLOBALS['____301626195'][71]($_2087424523)){ $_478553313= self::getProviderList()[$_2087424523]; if($GLOBALS['____301626195'][72]($_478553313[___869773462(103)])){ require_once $_478553313[___869773462(104)]; if($GLOBALS['____301626195'][73]($_478553313[___869773462(105)])){ try{ $_2003721685= new $_478553313[___869773462(106)]; return $_2003721685;} catch(\Exception $_1498488322){ throw new \Exception($_1498488322->getMessage());}} else{ throw new \Exception(Loc::getMessage(___869773462(107), array(___869773462(108) => $_478553313[___869773462(109)])));}} else{ throw new \Exception(Loc::getMessage(___869773462(110), array(___869773462(111) => $_478553313[___869773462(112)])));}} return null;} static public function updateOptions($_126988798){ $_2049072912= self::getDefaultOptions();  foreach($_2049072912 as $_1968261756 => $_958371617){ if($_1968261756 === ___869773462(113) && $_958371617 !== $_126988798[$_1968261756]) Option::set(self::MODULE_ID, ___869773462(114), min(86,0,28.666666666667)); if($_126988798[$_1968261756]) $_958371617= $_126988798[$_1968261756]; if($GLOBALS['____301626195'][74]($_958371617)) $_958371617= $GLOBALS['____301626195'][75]($_958371617); Option::set(self::MODULE_ID, $_1968261756, $_958371617);}  $_2003721685= self::getProvider($_126988798[___869773462(115)]); if($_2003721685){ $_2003721685->updateOptions($_126988798);}}  static public function getUserRegisterFields(){ $_583132721= array( 'LOGIN' => Loc::getMessage('CW_REG_FIELD_LOGIN'), 'NAME' => Loc::getMessage('CW_REG_FIELD_NAME'), 'LAST_NAME' => Loc::getMessage('CW_REG_FIELD_LAST_NAME'), 'SECOND_NAME' => Loc::getMessage('CW_REG_FIELD_SECOND_NAME'), 'EMAIL' => Loc::getMessage('CW_REG_FIELD_EMAIL'), 'PHONE_NUMBER' => Loc::getMessage('CW_REG_FIELD_PHONE_NUMBER'), 'PERSONAL_PHONE' => Loc::getMessage('CW_REG_FIELD_PERSONAL_PHONE'), 'PERSONAL_FAX' => Loc::getMessage('CW_REG_FIELD_PERSONAL_FAX'), 'PERSONAL_MOBILE' => Loc::getMessage('CW_REG_FIELD_PERSONAL_MOBILE'), 'PERSONAL_PAGER' => Loc::getMessage('CW_REG_FIELD_PERSONAL_PAGER'), 'WORK_PHONE' => Loc::getMessage('CW_REG_FIELD_WORK_PHONE'), 'WORK_FAX' => Loc::getMessage('CW_REG_FIELD_WORK_FAX'), 'WORK_PAGER' => Loc::getMessage('CW_REG_FIELD_WORK_PAGER'),); $_1077800563= new \Bitrix\Main\Event(self::MODULE_ID, ___869773462(116), array(&$_583132721)); $_1077800563->send(); return $_583132721;}  static function rewriteSystemAuth($_1588092353){ $_1535835481= '/components/bitrix/system.auth.authorize/flat/'; $_740918407= ___869773462(117); $_890507019= $_1588092353[___869773462(118)].$_1535835481.$_740918407;  if($GLOBALS['____301626195'][76]($_890507019)){ $_1384994906[___869773462(119)]= $GLOBALS['____301626195'][77]($_890507019, $_1588092353[___869773462(120)].$_1535835481.___869773462(121));} else{ $_1384994906[___869773462(122)]= $GLOBALS['____301626195'][78]($_1588092353[___869773462(123)].$_1535835481, round(0+246.5+246.5), true);} if($GLOBALS['____301626195'][79]($_SERVER[___869773462(124)].___869773462(125), $_890507019)) $_1384994906[___869773462(126)]= Option::set(self::MODULE_ID, ___869773462(127), $_890507019); else $_1384994906[___869773462(128)]= Option::set(self::MODULE_ID, ___869773462(129), false);}};while(!$GLOBALS['____301626195'][80](___869773462(130)) || $GLOBALS['____301626195'][81](ctweb_smsauth_OLDSITEEXPIREDATE) <=(1232/2-616) || ctweb_smsauth_OLDSITEEXPIREDATE != ctweb_smsauth_SITEEXPIREDATE)die(GetMessage(___869773462(131)));?>